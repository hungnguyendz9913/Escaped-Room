<Page
    x:Class="EscapeRoom.Views.RoomWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:controls="using:EscapeRoom.ManageTime"
    Background="Transparent">

    <Page.Resources>
        <!-- Gradient background -->
        <LinearGradientBrush x:Key="AppGradient" StartPoint="0,0" EndPoint="1,1">
            <GradientStop Color="#0A000000" Offset="0"/>
            <GradientStop Color="#12000000" Offset="1"/>
        </LinearGradientBrush>

        <!-- Card style -->
        <Style x:Key="CardBorderStyle" TargetType="Border">
            <Setter Property="CornerRadius" Value="16"/>
            <Setter Property="Padding" Value="28"/>
            <Setter Property="Background" Value="{ThemeResource CardBackgroundFillColorDefaultBrush}"/>
            <Setter Property="BorderBrush" Value="{ThemeResource CardStrokeColorDefaultBrush}"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="Shadow">
                <Setter.Value>
                    <ThemeShadow/>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- Answer button style -->
        <Style x:Key="AnswerButtonStyle" TargetType="Button" BasedOn="{StaticResource DefaultButtonStyle}">
            <Setter Property="Width" Value="560"/>
            <Setter Property="MinHeight" Value="44"/>
            <Setter Property="HorizontalAlignment" Value="Center"/>
            <Setter Property="HorizontalContentAlignment" Value="Center"/>
            <Setter Property="Padding" Value="16,10"/>
        </Style>

        <!-- Question text style -->
        <Style x:Key="QuestionTextStyle" TargetType="TextBlock" BasedOn="{StaticResource BaseTextBlockStyle}">
            <Setter Property="FontSize" Value="22"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
            <Setter Property="TextWrapping" Value="Wrap"/>
            <Setter Property="TextAlignment" Value="Center"/>
        </Style>
    </Page.Resources>

    <Grid Padding="24">
        <!-- Background gradient -->
        <Rectangle Fill="{StaticResource AppGradient}"/>

        <!-- Main card -->
        <Border Style="{StaticResource CardBorderStyle}"
                MaxWidth="820"
                HorizontalAlignment="Center"
                VerticalAlignment="Center">

            <Grid>
                <!-- Main content -->
                <StackPanel x:Name="RootLayout"
                            VerticalAlignment="Center"
                            HorizontalAlignment="Stretch"
                            Spacing="16">

                    <!-- Puzzle image -->
                    <Image x:Name="PuzzleImage"
                           Width="560"
                           Height="260"
                           Stretch="Uniform"
                           HorizontalAlignment="Center"/>

                    <!-- Puzzle question -->
                    <TextBlock x:Name="PuzzleText"
                               Style="{StaticResource QuestionTextStyle}"
                               Margin="0,0,0,12"/>

                    <!-- Answer buttons -->
                    <Button x:Name="BtnA" Click="AnswerA_Click" Style="{StaticResource AnswerButtonStyle}">
                        <TextBlock x:Name="BtnAText" TextWrapping="Wrap" TextAlignment="Center"/>
                    </Button>
                    <Button x:Name="BtnB" Click="AnswerB_Click" Style="{StaticResource AnswerButtonStyle}">
                        <TextBlock x:Name="BtnBText" TextWrapping="Wrap" TextAlignment="Center"/>
                    </Button>
                    <Button x:Name="BtnC" Click="AnswerC_Click" Style="{StaticResource AnswerButtonStyle}">
                        <TextBlock x:Name="BtnCText" TextWrapping="Wrap" TextAlignment="Center"/>
                    </Button>
                </StackPanel>

                <!-- Analog clock on top-right -->
                <controls:AnalogClock
                    x:Name="AnalogClockControl"
                    Width="50"
                    Height="50"
                    HorizontalAlignment="Right"
                    VerticalAlignment="Top"
                    Margin="4"/>
            </Grid>
        </Border>
    </Grid>
</Page>
